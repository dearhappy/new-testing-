<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Manager</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Hide scrollbar for clean mobile look */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .loader {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #3b82f6;
            width: 20px;
            height: 20px;
            -webkit-animation: spin 1s linear infinite; /* Safari */
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        /* Tap highlight removal for mobile */
        * { -webkit-tap-highlight-color: transparent; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 font-sans h-screen flex flex-col overflow-hidden">

    <!-- CONFIGURATION -->
    <script>
        // *** PASTE YOUR DEPLOYED GOOGLE SCRIPT WEB APP URL HERE ***
        const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbwUUPpy6f5YoXiMlAkpFLP9TlxPo0N1x9loKvHW_e5EbOU5FW-UBJqG3gNiI1cOWEcvCw/exec"; 
    </script>

    <!-- Header -->
    <header class="bg-blue-600 text-white p-4 shadow-md z-10 shrink-0">
        <div class="flex justify-between items-center">
            <h1 class="text-xl font-bold flex items-center gap-2">
                <i data-lucide="home" class="w-6 h-6"></i> Home Manager
            </h1>
            <button onclick="fetchData()" id="refreshBtn" class="p-2 rounded-full hover:bg-blue-700 transition">
                <i data-lucide="refresh-cw" class="w-5 h-5"></i>
            </button>
        </div>
    </header>

    <!-- Summary Cards -->
    <div class="p-4 grid grid-cols-2 gap-3 shrink-0">
        <div class="bg-white p-3 rounded-xl shadow border-l-4 border-green-500">
            <p class="text-xs text-gray-500 uppercase font-semibold">Income</p>
            <p class="text-lg font-bold text-green-600 truncate" id="totalIncome">$0</p>
        </div>
        <div class="bg-white p-3 rounded-xl shadow border-l-4 border-red-500">
            <p class="text-xs text-gray-500 uppercase font-semibold">Expenses</p>
            <p class="text-lg font-bold text-red-600 truncate" id="totalExpense">$0</p>
        </div>
        <div class="bg-white p-3 rounded-xl shadow border-l-4 border-blue-500 col-span-2 flex justify-between items-center">
            <div>
                <p class="text-xs text-gray-500 uppercase font-semibold">Balance</p>
                <p class="text-xl font-bold text-gray-800 truncate" id="totalBalance">$0</p>
            </div>
            <div class="text-right">
                <p class="text-xs text-gray-500 uppercase font-semibold">Active Loans</p>
                <p class="text-sm font-bold text-orange-600" id="activeLoansCount">0</p>
            </div>
        </div>
    </div>

    <!-- Tabs -->
    <div class="flex border-b bg-white sticky top-0 z-10 shrink-0">
        <button class="flex-1 py-3 text-sm font-medium text-blue-600 border-b-2 border-blue-600 tab-btn transition-colors" onclick="switchTab('transactions', this)">Transactions</button>
        <button class="flex-1 py-3 text-sm font-medium text-gray-500 hover:text-blue-500 tab-btn transition-colors" onclick="switchTab('loans', this)">Loans / EMI</button>
    </div>

    <!-- Main Content Area -->
    <main class="flex-1 overflow-y-auto p-4 relative no-scrollbar" id="mainContainer">
        
        <!-- Loading State -->
        <div id="loadingState" class="hidden absolute inset-0 flex flex-col items-center justify-center bg-white/80 z-20">
            <div class="loader w-10 h-10 mb-2 border-4 border-t-blue-600"></div>
            <p class="text-sm text-gray-600 font-medium">Syncing with Sheets...</p>
        </div>

        <!-- Transactions Tab -->
        <div id="transactionsTab" class="space-y-3">
            <!-- Filter -->
            <div class="flex gap-2 mb-4 overflow-x-auto pb-1 no-scrollbar">
                <span class="px-3 py-1 bg-gray-200 rounded-full text-xs font-medium whitespace-nowrap cursor-pointer active-filter bg-gray-800 text-white transition-colors" onclick="filterTransactions('all', this)">All</span>
                <span class="px-3 py-1 bg-gray-200 rounded-full text-xs font-medium whitespace-nowrap cursor-pointer hover:bg-gray-300 transition-colors" onclick="filterTransactions('expense', this)">Expenses</span>
                <span class="px-3 py-1 bg-gray-200 rounded-full text-xs font-medium whitespace-nowrap cursor-pointer hover:bg-gray-300 transition-colors" onclick="filterTransactions('income', this)">Income</span>
            </div>
            
            <div id="transactionList" class="space-y-3 pb-20">
                <!-- Transactions injected here -->
                <div class="text-center text-gray-400 mt-10 text-sm">No transactions found.</div>
            </div>
        </div>

        <!-- Loans Tab -->
        <div id="loansTab" class="hidden space-y-3 pb-20">
            <div id="loanList" class="space-y-3">
                <!-- Loans injected here -->
                <div class="text-center text-gray-400 mt-10 text-sm">No loans found.</div>
            </div>
        </div>
    </main>

    <!-- Floating Action Button -->
    <button onclick="openModal()" class="fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition active:scale-95 shadow-blue-500/50 z-30">
        <i data-lucide="plus" class="w-6 h-6"></i>
    </button>

    <!-- Modal Form -->
    <div id="modal" class="fixed inset-0 bg-black/50 hidden items-end sm:items-center justify-center z-50 transition-opacity opacity-0">
        <div class="bg-white w-full sm:w-96 rounded-t-2xl sm:rounded-2xl p-6 shadow-xl transform transition-transform duration-300 translate-y-full sm:translate-y-0" id="modalContent">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold text-gray-800" id="modalTitle">Add New</h2>
                <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 p-1"><i data-lucide="x" class="w-6 h-6"></i></button>
            </div>

            <form id="dataForm" onsubmit="handleSubmit(event)">
                <input type="hidden" id="editId">
                
                <!-- Type Selection -->
                <div class="mb-4">
                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Type</label>
                    <div class="relative">
                        <select id="entryType" class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3 appearance-none" onchange="toggleFormFields()">
                            <option value="expense">Expense</option>
                            <option value="income">Income</option>
                            <option value="loan">Loan / EMI</option>
                        </select>
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                            <i data-lucide="chevron-down" class="w-4 h-4"></i>
                        </div>
                    </div>
                </div>

                <div class="mb-4">
                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Date</label>
                    <input type="date" id="date" required class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3">
                </div>

                <!-- Shared Fields -->
                <div id="standardFields">
                    <div class="mb-4">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Category</label>
                        <div class="relative">
                            <select id="category" class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3 appearance-none">
                                <option value="Groceries">Groceries</option>
                                <option value="Transport">Transport</option>
                                <option value="Bills">Bills & Utilities</option>
                                <option value="Food">Food & Dining</option>
                                <option value="Shopping">Shopping</option>
                                <option value="Entertainment">Entertainment</option>
                                <option value="Health">Health</option>
                                <option value="Salary">Salary</option>
                                <option value="Investment">Investment</option>
                                <option value="Other">Other</option>
                            </select>
                            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                                <i data-lucide="chevron-down" class="w-4 h-4"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Loan Specific Fields -->
                <div id="loanFields" class="hidden">
                    <div class="grid grid-cols-2 gap-3 mb-4">
                        <div>
                            <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Nature</label>
                            <div class="relative">
                                <select id="loanNature" class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg p-3 appearance-none">
                                    <option value="Given">Given (Lent)</option>
                                    <option value="Taken">Taken (Borrowed)</option>
                                </select>
                                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                                    <i data-lucide="chevron-down" class="w-4 h-4"></i>
                                </div>
                            </div>
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Status</label>
                            <div class="relative">
                                <select id="loanStatus" class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg p-3 appearance-none">
                                    <option value="Active">Active</option>
                                    <option value="Closed">Closed</option>
                                </select>
                                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                                    <i data-lucide="chevron-down" class="w-4 h-4"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Person / Bank Name</label>
                        <input type="text" id="loanName" class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3" placeholder="e.g. John Doe or HDFC">
                    </div>
                    <div class="mb-4">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">EMI / Interest Info</label>
                        <input type="text" id="loanEmi" class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3" placeholder="e.g. 500/month">
                    </div>
                </div>

                <div class="mb-4">
                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Amount</label>
                    <input type="number" id="amount" required step="0.01" class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3" placeholder="0.00">
                </div>

                <div class="mb-6">
                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Note (Optional)</label>
                    <input type="text" id="note" class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3" placeholder="Description...">
                </div>

                <button type="submit" id="submitBtn" class="w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-bold rounded-lg text-sm px-5 py-3 text-center flex justify-center items-center gap-2 shadow-md">
                    Save Entry
                </button>
            </form>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="fixed bottom-24 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs font-bold py-3 px-6 rounded-full shadow-lg opacity-0 transition-opacity duration-300 pointer-events-none z-50">
        Operation Successful
    </div>

    <script>
        let appData = {
            income: [],
            expenses: [],
            loans: []
        };
        let currentFilter = 'all';

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            document.getElementById('date').valueAsDate = new Date();
            fetchData();
        });

        // --- FETCH DATA ---
        async function fetchData() {
            if(WEB_APP_URL.includes("YOUR_WEB_APP_URL")) {
                alert("Please configure the WEB_APP_URL in the HTML file.");
                return;
            }

            showLoading(true);
            try {
                const response = await fetch(`${WEB_APP_URL}?action=read`);
                const result = await response.json();
                
                if (result.status === 'success') {
                    appData = result;
                    updateUI();
                } else {
                    showToast('Error loading data', true);
                }
            } catch (e) {
                console.error(e);
                showToast('Network error', true);
            } finally {
                showLoading(false);
            }
        }

        // --- SUBMIT FORM ---
        async function handleSubmit(e) {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            const originalText = btn.innerText;
            btn.innerHTML = '<div class="loader mr-2"></div> Saving...';
            btn.disabled = true;

            const type = document.getElementById('entryType').value;
            const id = document.getElementById('editId').value;
            const action = id ? 'update' : 'create';

            // Construct Data Object based on Type
            let payloadData = {
                id: id,
                date: document.getElementById('date').value,
                amount: document.getElementById('amount').value,
                note: document.getElementById('note').value
            };

            if (type === 'loan') {
                payloadData.loanType = document.getElementById('loanNature').value;
                payloadData.name = document.getElementById('loanName').value;
                payloadData.emi = document.getElementById('loanEmi').value;
                payloadData.status = document.getElementById('loanStatus').value;
            } else {
                payloadData.category = document.getElementById('category').value;
            }

            // Prepare Request
            const requestBody = {
                action: action,
                type: type === 'loan' ? 'Loans' : (type === 'income' ? 'Income' : 'Expenses'),
                data: payloadData
            };

            try {
                await fetch(WEB_APP_URL, {
                    method: 'POST',
                    body: JSON.stringify(requestBody)
                });
                
                closeModal();
                showToast(id ? 'Entry Updated' : 'Entry Added');
                fetchData(); // Refresh all data
            } catch (err) {
                showToast('Error saving data', true);
            } finally {
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }

        // --- DELETE ENTRY ---
        async function deleteEntry(id, type) {
            if (!confirm('Are you sure you want to delete this?')) return;
            
            showLoading(true);
            const sheetType = type === 'loan' ? 'Loans' : (type === 'income' ? 'Income' : 'Expenses');
            
            try {
                await fetch(WEB_APP_URL, {
                    method: 'POST',
                    body: JSON.stringify({
                        action: 'delete',
                        type: sheetType,
                        data: { id: id }
                    })
                });
                showToast('Deleted successfully');
                fetchData();
            } catch (err) {
                showToast('Delete failed', true);
                showLoading(false);
            }
        }

        // --- UI RENDERING ---

        function updateUI() {
            renderDashboard();
            renderTransactions();
            renderLoans();
            lucide.createIcons();
        }

        function renderDashboard() {
            const totalInc = appData.income.reduce((sum, item) => sum + Number(item.amount), 0);
            const totalExp = appData.expenses.reduce((sum, item) => sum + Number(item.amount), 0);
            const balance = totalInc - totalExp;
            const activeLoans = appData.loans.filter(l => l.status === 'Active').length;

            document.getElementById('totalIncome').innerText = formatCurrency(totalInc);
            document.getElementById('totalExpense').innerText = formatCurrency(totalExp);
            const balEl = document.getElementById('totalBalance');
            balEl.innerText = formatCurrency(balance);
            document.getElementById('activeLoansCount').innerText = activeLoans;
            
            if(balance >= 0) {
                balEl.className = "text-xl font-bold text-green-700 truncate";
            } else {
                balEl.className = "text-xl font-bold text-red-600 truncate";
            }
        }

        function renderTransactions() {
            const container = document.getElementById('transactionList');
            container.innerHTML = '';

            let combined = [];
            if (currentFilter === 'all' || currentFilter === 'income') {
                combined = combined.concat(appData.income.map(i => ({...i, type: 'income'})));
            }
            if (currentFilter === 'all' || currentFilter === 'expense') {
                combined = combined.concat(appData.expenses.map(e => ({...e, type: 'expense'})));
            }

            combined.sort((a, b) => new Date(b.date) - new Date(a.date));

            if (combined.length === 0) {
                container.innerHTML = '<div class="text-center text-gray-400 mt-10 text-sm">No transactions found.</div>';
                return;
            }

            combined.forEach(item => {
                const isInc = item.type === 'income';
                const color = isInc ? 'text-green-600' : 'text-red-600';
                const sign = isInc ? '+' : '-';
                const icon = isInc ? 'arrow-down-left' : 'arrow-up-right';

                const el = document.createElement('div');
                el.className = 'bg-white p-3 rounded-lg shadow-sm border border-gray-100 flex justify-between items-center';
                el.onclick = () => openModal(item, item.type); // Edit on click
                el.innerHTML = `
                    <div class="flex items-center gap-3 overflow-hidden">
                        <div class="bg-gray-100 p-2 rounded-full shrink-0">
                            <i data-lucide="${icon}" class="w-5 h-5 ${color}"></i>
                        </div>
                        <div class="min-w-0">
                            <p class="font-semibold text-sm truncate text-gray-800">${item.category}</p>
                            <p class="text-xs text-gray-500">${item.date} ${item.note ? '• '+item.note : ''}</p>
                        </div>
                    </div>
                    <div class="text-right shrink-0 ml-2">
                        <p class="font-bold text-sm ${color}">${sign}${formatCurrency(item.amount)}</p>
                        <button onclick="event.stopPropagation(); deleteEntry('${item.id}', '${item.type}')" class="text-gray-400 hover:text-red-500 text-xs mt-1">
                            <i data-lucide="trash-2" class="w-4 h-4"></i>
                        </button>
                    </div>
                `;
                container.appendChild(el);
            });
        }

        function renderLoans() {
            const container = document.getElementById('loanList');
            container.innerHTML = '';
            
            if (appData.loans.length === 0) {
                container.innerHTML = '<div class="text-center text-gray-400 mt-10 text-sm">No loans found.</div>';
                return;
            }

            appData.loans.forEach(item => {
                const isTaken = item.loanType === 'Taken';
                const badgeColor = item.status === 'Active' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-600';
                
                const el = document.createElement('div');
                el.className = 'bg-white p-4 rounded-lg shadow-sm border border-gray-100 space-y-2';
                el.onclick = () => openModal(item, 'loan');
                el.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <span class="text-xs font-bold uppercase tracking-wider ${isTaken ? 'text-red-500' : 'text-blue-500'}">${item.loanType}</span>
                            <h3 class="font-bold text-gray-800 text-lg">${item.name}</h3>
                        </div>
                        <span class="px-2 py-1 rounded-full text-xs font-medium ${badgeColor}">${item.status}</span>
                    </div>
                    <div class="flex justify-between items-end">
                        <div>
                             <p class="text-xs text-gray-500">Amount</p>
                             <p class="font-bold text-gray-700">${formatCurrency(item.amount)}</p>
                        </div>
                        <div class="text-right">
                             <p class="text-xs text-gray-500">EMI/Interest</p>
                             <p class="font-medium text-gray-700 text-sm">${item.emi || '-'}</p>
                        </div>
                    </div>
                     <div class="flex justify-between items-center pt-2 border-t mt-2">
                         <p class="text-xs text-gray-400">${item.date} ${item.note ? '• ' + item.note : ''}</p>
                         <button onclick="event.stopPropagation(); deleteEntry('${item.id}', 'loan')" class="text-red-400 hover:text-red-600">
                            <i data-lucide="trash-2" class="w-4 h-4"></i>
                        </button>
                    </div>
                `;
                container.appendChild(el);
            });
        }

        // --- MODAL & HELPERS ---

        function openModal(data = null, type = 'expense') {
            const modal = document.getElementById('modal');
            const form = document.getElementById('dataForm');
            
            // Reset form
            form.reset();
            document.getElementById('editId').value = '';
            document.getElementById('date').valueAsDate = new Date();
            document.getElementById('modalTitle').innerText = 'Add New';
            document.getElementById('submitBtn').innerText = 'Save Entry';

            // Set Type
            if (data) type = type; // Use passed type if editing
            document.getElementById('entryType').value = type;
            
            // If editing, fill data
            if (data) {
                document.getElementById('modalTitle').innerText = 'Edit Entry';
                document.getElementById('submitBtn').innerText = 'Update Entry';
                document.getElementById('editId').value = data.id;
                document.getElementById('date').value = data.date;
                document.getElementById('amount').value = data.amount;
                document.getElementById('note').value = data.note || '';

                if (type === 'loan') {
                    document.getElementById('loanNature').value = data.loanType;
                    document.getElementById('loanName').value = data.name;
                    document.getElementById('loanEmi').value = data.emi;
                    document.getElementById('loanStatus').value = data.status;
                } else {
                    document.getElementById('category').value = data.category;
                }
            }

            toggleFormFields();
            
            modal.classList.remove('hidden');
            // Small timeout for transition
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                document.getElementById('modalContent').classList.remove('translate-y-full');
            }, 10);
        }

        function closeModal() {
            const modal = document.getElementById('modal');
            modal.classList.add('opacity-0');
            document.getElementById('modalContent').classList.add('translate-y-full');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        function toggleFormFields() {
            const type = document.getElementById('entryType').value;
            const stdFields = document.getElementById('standardFields');
            const loanFields = document.getElementById('loanFields');

            if (type === 'loan') {
                stdFields.classList.add('hidden');
                loanFields.classList.remove('hidden');
            } else {
                stdFields.classList.remove('hidden');
                loanFields.classList.add('hidden');
            }
        }

        function switchTab(tabName, btn) {
            // Update buttons
            document.querySelectorAll('.tab-btn').forEach(b => {
                b.className = "flex-1 py-3 text-sm font-medium text-gray-500 hover:text-blue-500 tab-btn transition-colors";
            });
            btn.className = "flex-1 py-3 text-sm font-medium text-blue-600 border-b-2 border-blue-600 tab-btn transition-colors";

            // Show content
            document.getElementById('transactionsTab').classList.add('hidden');
            document.getElementById('loansTab').classList.add('hidden');
            
            if (tabName === 'transactions') {
                document.getElementById('transactionsTab').classList.remove('hidden');
            } else {
                document.getElementById('loansTab').classList.remove('hidden');
            }
        }

        function filterTransactions(filter, btn) {
            currentFilter = filter;
            // Reset button styles
            const btns = btn.parentElement.children;
            for(let b of btns) {
                b.className = "px-3 py-1 bg-gray-200 rounded-full text-xs font-medium whitespace-nowrap cursor-pointer hover:bg-gray-300 transition-colors";
            }
            btn.className = "px-3 py-1 bg-gray-200 rounded-full text-xs font-medium whitespace-nowrap cursor-pointer active-filter bg-gray-800 text-white transition-colors";
            
            renderTransactions();
            lucide.createIcons();
        }

        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-IN', {
                style: 'currency',
                currency: 'INR',
                maximumFractionDigits: 0
            }).format(amount);
        }

        function showLoading(show) {
            const el = document.getElementById('loadingState');
            if(show) el.classList.remove('hidden');
            else el.classList.add('hidden');
        }

        function showToast(msg, isError = false) {
            const t = document.getElementById('toast');
            t.innerText = msg;
            t.className = `fixed bottom-24 left-1/2 transform -translate-x-1/2 text-white text-xs font-bold py-3 px-6 rounded-full shadow-lg transition-opacity duration-300 pointer-events-none z-50 ${isError ? 'bg-red-600' : 'bg-gray-800'}`;
            t.classList.remove('opacity-0');
            setTimeout(() => t.classList.add('opacity-0'), 3000);
        }
    </script>
</body>
</html>
